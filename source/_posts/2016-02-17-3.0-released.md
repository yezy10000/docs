title: EasyWeChat 3.0 Released
---

终于，在经过了快一年的开发，大半年的无数次跳票后，EasyWeChat 3.0 终于在今天发布了。

不敢说完美，一是违反广告法，二者，它确实是在阉割了一些不常用模块的情况下发布了，比如：微信小店与设备管理，卡券。

不是说我觉得那些被阉割的模块没有用，只是我真的忙不过来去弄它，所以我把它放到了 3.1 的开发计划里。

在这里，希望广大开发者踊跃贡献代码，献出你们的力量，让我们一起完善它。

如果你是微信 API 官方开发人员，我想对你们说：以后还是弄规范一点吧。

说起卡券，我在 3.0 原计划就是要做进来的。对没错，2.x 系列已经有卡券，但是在我开发 3.0 的时候我再次去看了一下卡券文档，我已经看不明白了，太乱了。

不论如何，它始终还是发布了，虽然跳票无数次。

它的变化，主要有以下这些：

1. 它对环境要求更高，PHP 版本 >= 5.5.9。我也知道大家有很多人还在 5.3 甚至 5.2 的环境下玩 PHP，但是我这个升级控这回真的就任性了。
2. 2.x 系列中，为了 “优雅”，我对微信的返回值对了一些精简，比如菜单返回时，我去掉了外层的 "button"， 但是你们懂的，微信 API 开发这帮人，随时可能变出新花样，这次来了一个个性化菜单，在 "button" 的同级，弄了一其它的返回值回来。所以，在 3.0 里，所有的 API 返回值与微信返回值一样不做修改。只是包裹在 [`EasyWeChat\Support\Collection`](https://github.com/overtrue/wechat/blob/master/src/Support/Collection.php) 实例中，便于对返回值做一些便捷操作。
3. 注释全改成了英文，没啥理由
4. 单元测试，除个别模块较难测试且代码不易变动未覆盖外，基本代码都做了高覆盖度的单元测试。
5. 使用了类似 Laravel 框架的容器模式来组织各模块，降低耦合。

如果你说我没有支持企业号，开放平台等，你先不要着急遗憾，请原谅我的时间不够来做这些事情，但是我在做公共模块的时候已经考虑到了，虽然我没有直接支持，但是你完全可以在 https://github.com/walle 下找到一些公共的模块来拼装，便完成了企业号的支持了。比如 [`core`](https://github.com/EasyWeChat/core) 模块，里面的 [AccessToken](https://github.com/EasyWeChat/core/blob/develop/AccessToken.php) 类，我提供了 [`setQueryName($name)`](https://github.com/EasyWeChat/core/blob/develop/AccessToken.php#L164) 方法，因为在公众平台，`access token` 在传递时使用 `access_token=xxx` 这样的名称在使用，而在开放平台它不叫这个，但是内容一样。你便可以使用这个方法来改掉它。

其它模块有些也是可以直接拿来用的，这里就不一一举例了，当然，你肯定需要阅读代码的。

这里要感谢大家的支持，尤其感谢贡献代码的同学！